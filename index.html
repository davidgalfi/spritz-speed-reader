<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no" />
  <meta name="theme-color" content="#222222">
  <title>Spritz Speed Reader</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <button id="theme_toggle" class="theme-toggle" aria-label="Toggle dark/light mode" title="Switch Theme">
    üåô
  </button>

  <main class="app">
    <section class="spritz" id="spritz_area" aria-label="Spritz reader">
      <div class="spritz-word" aria-live="polite"></div>
    </section>

    <section class="settings" id="settings" aria-label="Reader settings">
      <label class="field">
        <span class="label">Speed (WPM)</span>
        <input class="speed" id="spritz_wpm" type="number" value="300" step="50" min="50" max="1200" inputmode="numeric" />
      </label>

      <details class="advanced-settings">
        <summary>Advanced Speed Settings</summary>
        <div class="advanced-content">
          <label class="field-inline">
            <input type="checkbox" id="long_word_pause" checked />
            <span>Slow down for long words (9+ letters)</span>
          </label>
          <label class="field-inline">
            <input type="number" id="long_word_multiplier" value="1.5" step="0.1" min="1" max="3" class="small-input" />
            <span>Long word delay multiplier</span>
          </label>
          <label class="field-inline">
            <input type="checkbox" id="punctuation_pause" checked />
            <span>Pause at punctuation (. , ; : ! ?)</span>
          </label>
          <label class="field-inline">
            <input type="number" id="punctuation_multiplier" value="2" step="0.5" min="1" max="5" class="small-input" />
            <span>Punctuation delay multiplier</span>
          </label>
          <label class="field-inline">
            <input type="checkbox" id="number_pause" checked />
            <span>Slow down for numbers (0-9)</span>
          </label>
          <label class="field-inline">
            <input type="number" id="number_multiplier" value="1.8" step="0.1" min="1" max="3" class="small-input" />
            <span>Number delay multiplier</span>
          </label>
          <label class="field-inline">
            <input type="checkbox" id="special_pause" checked />
            <span>Pause at special chars ( ) [ ] / \\ -</span>
          </label>
          <label class="field-inline">
            <input type="number" id="special_multiplier" value="1.3" step="0.1" min="1" max="3" class="small-input" />
            <span>Special char delay multiplier</span>
          </label>
          <label class="field-inline">
            <input type="number" id="rewind_amount" value="10" step="1" min="1" max="50" class="small-input" />
            <span>Rewind amount (words)</span>
          </label>
        </div>
      </details>

      <label class="field">
        <span class="label">Text</span>
        <textarea class="demo-text" id="demo_text" placeholder="Paste your text here to start speed reading...">Spritz. Paste some text below to try out your speed reading. Reading is inherently time-consuming because your eyes have to move from word to word and line to line. Traditional reading also consumes huge amounts of physical space on a page or screen, which limits reading effectiveness on small displays. Scrolling, pinching, and resizing a reading area doesn't fix the problem (it only frustrates people). Now, with compact text streaming from Spritz, content can be streamed one word at a time.</textarea>
      </label>

      <button class="primary" id="spritz_start" type="button">Start reading</button>
    </section>

    <section class="reading-controls" id="reading_controls" aria-label="Reading controls" hidden>
      <button class="control-btn rewind" id="spritz_rewind" type="button" title="Jump back (swipe left or press ‚Üê)">‚è™ Rewind</button>
      <button class="control-btn" id="spritz_pause" type="button">Pause</button>
      <button class="control-btn danger" id="spritz_stop" type="button">Stop</button>
    </section>
  </main>

  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('Service Worker registered', reg))
          .catch(err => console.log('Service Worker registration failed', err));
      });
    }
  </script>
</body>
</html>
