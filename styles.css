*{margin:0;padding:0;box-sizing:border-box}

:root{
  --bg:#222;
  --panel:#2b2b2b;
  --text:#ddd;
  --muted:#a9a9a9;
  --accent:#ff3b30;
  --border:#555;
  --btn1:#333;
  --btn2:#444;
  --rewind:#3478f6;
}

html{font-size:10px}

body{
  background:var(--bg);
  color:var(--text);
  font-family:'Open Sans','Segoe UI',Arial,sans-serif;
  font-size:1.4rem;
  min-height:100vh;
  touch-action: pan-y;
}

.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding: max(2rem, env(safe-area-inset-top)) 1.6rem max(2rem, env(safe-area-inset-bottom));
  gap:2.4rem;
}

.spritz{
  position:relative;
  width:min(92vw, 36rem);
  padding:1rem 0 1.2rem;
  border-top:2px solid var(--text);
  border-bottom:2px solid var(--text);
  touch-action: pan-x;
  user-select: none;
}

.spritz:before,.spritz:after{
  content:'';
  position:absolute;
  left:40%;
  height:.8rem;
  width:2px;
  margin-left:-1px;
  background-color:var(--text);
}
.spritz:before{top:0}
.spritz:after{bottom:0}

.spritz-word{
  font-size:clamp(2.2rem, 5.5vw, 3rem);
  line-height:clamp(3rem, 7vw, 3.6rem);
  height:clamp(3rem, 7vw, 3.6rem);
  font-weight:650;
}

.spritz-word div{display:table-cell;color:var(--text)}
.spritz-word div:first-child{width:40%;text-align:right}
.spritz-word div:nth-child(2){color:var(--accent)}
.spritz-word div:last-child{width:60%;text-align:left}

.settings{
  width:min(92vw, 36rem);
  display:flex;
  flex-direction:column;
  gap:1.2rem;
}

.field{display:flex;flex-direction:column;gap:.6rem}
.label{color:var(--muted);font-size:1.2rem;letter-spacing:.02em}

.speed,
.demo-text{
  width:100%;
  color:var(--text);
  border:1px solid #0000;
  border-radius:1rem;
  background:linear-gradient(to bottom, var(--btn1), var(--btn2));
  padding:1.2rem 1.4rem;
  outline:none;
}

.speed{height:4.4rem;text-align:center;font-weight:700}
.demo-text{min-height:10em;max-height:40vh;resize:vertical;line-height:1.4}

.speed:focus,
.demo-text:focus{border-color:var(--border)}

.primary,
.control-btn{
  width:100%;
  border:0;
  border-radius:1rem;
  color:var(--text);
  background:linear-gradient(to bottom, var(--btn1), var(--btn2));
  padding:1.2rem 1.6rem;
  cursor:pointer;
  font-size:1.5rem;
  font-weight:650;
}

.primary:active,
.control-btn:active{transform:translateY(1px)}

.reading-controls{
  width:min(92vw, 36rem);
  display:grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap:1rem;
}

.control-btn.rewind{
  background:linear-gradient(to bottom, #2a5fb8, #3478f6);
  font-size:1.4rem;
}

.control-btn.danger{
  background:linear-gradient(to bottom, #4a1c1a, #5a2422);
}

body.reading-mode .settings{display:none}
body.reading-mode .reading-controls{display:grid}

.advanced-settings{
  background:var(--panel);
  border-radius:1rem;
  padding:1rem;
  margin:.6rem 0;
}

.advanced-settings summary{
  cursor:pointer;
  font-weight:600;
  font-size:1.3rem;
  color:var(--muted);
  padding:.6rem;
  user-select:none;
}

.advanced-settings summary:hover{color:var(--text)}

.advanced-content{
  margin-top:1rem;
  display:flex;
  flex-direction:column;
  gap:.8rem;
}

.field-inline{
  display:flex;
  align-items:center;
  gap:.8rem;
  font-size:1.3rem;
}

.field-inline input[type="checkbox"]{
  width:1.8rem;
  height:1.8rem;
  cursor:pointer;
  accent-color:var(--accent);
}

.field-inline .small-input{
  width:6rem;
  height:3.2rem;
  text-align:center;
  border-radius:.6rem;
  background:linear-gradient(to bottom, var(--btn1), var(--btn2));
  border:1px solid var(--border);
  color:var(--text);
  padding:.4rem;
}

@media (max-width: 380px){
  .reading-controls{grid-template-columns: 1fr; gap:1rem}
}

@media (max-height: 520px){
  .app{gap:1.6rem; justify-content:flex-start; padding-top:max(1.6rem, env(safe-area-inset-top))}
  .demo-text{max-height:28vh}
}
